---
title: "Log Treatment Interactions"
description: "This API allows enables your team to monitor how your users are engaging with Auxia treatments."
---

## API Definition

**POST LogTreatmentInteraction**

```
https://apis.auxia.io/v1/LogTreatmentInteraction
```

### Request Parameters

| Parameter | Required | Data Type | Description                                                                                                                                                                                      |
|------|-----|-----|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| api_key | Optional | String | A string API key that is issued to each project or company that uses Auxia. This API key should have permission to call this API. <br/><br/>**This can be either set in request parameters or in the header** |


### Headers

| Header | Value                                                                                                                                                                                             |
|--------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    x-api-key    | A string API key that is issued to each project or company that uses Auxia. This API key should have permission to call this API. <br/><br/> **This can be either set in request parameters or in the header** |
|    Content-Type    | application/json                                                                                                                                                                                  |

### Body

Raw request body


```json
{
    "project_id": "1250",
    "treatment_tracking_id": "6_690e24d8-16a6-4518-bf37-09a8f0120dfb",
    "interaction_type": "CLICKED",
    "interaction_time_micros":1667829258250000
}
```



### Example Curl


```shell
curl --location --request POST 'https://apis.auxia.io/v1/LogTreatmentInteraction?api_key=****************' \
--header 'Content-Type: application/json' \
--data-raw '{
    "project_id": "1250",
    "treatment_tracking_id": "6_690e24d8-16a6-4518-bf37-09a8f0120dfb",
    "interaction_type": "CLICKED",
    "interaction_time_micros":1667829258250000
}'
```


OR


```shell
curl --location --request POST 'https://apis.auxia.io/v1/LogTreatmentInteraction' \
--header 'Content-Type: application/json, x-api-key: ****************' \
--data-raw '{
    "project_id": "1250",
    "treatment_tracking_id": "6_690e24d8-16a6-4518-bf37-09a8f0120dfb",
    "interaction_type": "CLICKED",
    "interaction_time_micros":1667829258250000
}'
```



### Response


```
< content-type: application/json
<
{ }
```

# Schema Reference

The format for the following request is in Proto3. The proto file are used auto generate the REST API samples above.

### Request Parameters
This API may be called multiple times for each treatment_tracking_id for different interactions or recurring interactions.
| name | Data Type | Required | Description |
|------|-----|-----|-----|
| project_id | string | Required | For a given customer's project, this should always be the same. |
| user_id | string | Required | This is a unique ID that is obtained for each treatment, returned by the getTreatments API. This can be passed back in the logTreatmentInteractions API to complete the feedback loop.|
| treatment_tracking_id | string | Required | This specifies the type of interaction to be recorded. |
| interaction_time_micros | int64 | Required | This indicates the time at which the interaction happened. Please ensure the timestamp matches the timestamp that is recorded by your analytics events (e.g. Firebase, Amplitude, etc). This represents microseconds of UTC time since Unix epoch.|

### Example Request
```protobuf
message LogTreatmentInteractionRequest {
  string project_id = 1;
  string treatment_tracking_id = 2;
  InteractionType interaction_type = 3;
  int64 interaction_time_micros = 4;
}
```

### Interaction Type
This species the type of interaction to be recorded.
```protobuf
// Specifies the type of interaction to be recorded.
enum InteractionType {
  // Request with with this value is invalid and will result in a failure
  UNSPECIFIED_INTERACTION_TYPE = 0;

  // Indicates that the treatment has been viewed in a UI. Could correspond
  // to Open for emails.
  VIEWED = 1;

  // Indicates that the treatment was clicked/tapped on or the CTA on the
  // treatment was clicked/tapped.
  CLICKED = 2;

  // Indicates that the user is not interested in this treatment and may not
  // want to see it again.
  DISMISSED = 3;

  // Indicates that the user wanted the treatment out of the way temporarily
  // and may want to see it later. The snooze duration is customized per
  // treatment while setting up treatments.
  SNOOZED = 4;

  // Indicates that the action that the treatment was asking the user to do
  // was completed.
  CTA_COMPLETED = 5;
}
```

### Example Response
Empty response indicates that the RPC completed successfully.
```protobuf
message LogTreatmentInteractionResponse {
}
```

# REMOVE

```protobuf

// This API may be called multiple times for each treatment_tracking_id for
// different interactions or recurring interactions.
message LogTreatmentInteractionRequest {

  // For a given Auxia customer's project, this should always be the same.
  // Required.
  string project_id = 1;

  // A unique ID that is obtained for each treatment returned by getTreatments
  // API that can be passed back in this API for completing the feedback loop.
  // Required.
  string treatment_tracking_id = 2;


  // Specifies the type of interaction to be recorded.
  // Required.
  InteractionType interaction_type = 3;

  // The time at which the interaction happened. Please ensure the timestamp
  // matches the timestamp that is recorded by your analytics events such as
  // Firebase or Amplitude events.
  // Represents microseconds of UTC time since Unix epoch
  // Required.
  int64 interaction_time_micros = 4;
}


// Specifies the type of interaction to be recorded.
enum InteractionType {
  // Request with with this value is invalid and will result in a failure
  UNSPECIFIED_INTERACTION_TYPE = 0;

  // Indicates that the treatment has been viewed in a UI. Could correspond
  // to Open for emails.
  VIEWED = 1;

  // Indicates that the treatment was clicked/tapped on or the CTA on the
  // treatment was clicked/tapped.
  CLICKED = 2;

  // Indicates that the user is not interested in this treatment and may not
  // want to see it again.
  DISMISSED = 3;

  // Indicates that the user wanted the treatment out of the way temporarily
  // and may want to see it later. The snooze duration is customized per
  // treatment while setting up treatments.
  SNOOZED = 4;

  // Indicates that the action that the treatment was asking the user to do
  // was completed.
  CTA_COMPLETED = 5;
}


// Empty response indicates that the RPC completed successfully.
message LogTreatmentInteractionResponse {
}
```

